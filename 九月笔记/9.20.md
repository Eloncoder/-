# Linux ln命令：建立软硬链接文件  
文件三要素：
1. 文件名
2. 文件内容
3. inode

inode包含文件的各种信息    
inode组成的inode table存放在一个位置  
文件数据块存放在另一个位置  
![image](https://user-images.githubusercontent.com/63440757/191256483-a0c5424b-69b9-4755-9c1d-c4d21e7c375d.png)

inode不包含文件名，文件名存放在文件夹信息的结构体里。文件名相当于inode的别名，便于我们管理和记忆。Linux系统对文件的操作都是通过inode做到的。  
当我们修改文件时，系统从文件夹的信息结构体里找到文件名对应的inode，再通过存储在inode中的文件数据block地址找到对应的硬盘位置进行读写操作。

## 硬链接
一般来说，inode与文件名、文件数据是一对一的关系，但我们可以通过shell命令让多个文件名指向同一个inode，这种就是硬链接（hard link）。
`ln test.txt test_hard.txt`   
创建硬链接前，test.txt可以这样表示：            
![image](https://user-images.githubusercontent.com/63440757/191258162-a7396378-6337-40d0-b384-f80fb2af2872.png)

创建硬链接后：          
![image](https://user-images.githubusercontent.com/63440757/191258262-183b064f-2ada-4e1b-9431-b02819e32b3c.png)

可以看到，test_hard.txt的inode跟源文件test.txt使用的是同一个，只是现在链接数变成2了。  
我们可以执行ls -li查看一下：  
![1663677432519](https://user-images.githubusercontent.com/63440757/191259331-ed66eea2-a0d2-4230-9ef6-dd5bb733e43c.png)

第一列是inode number，可以看到都是205640491，所以两个文件使用的是同一个inode。  
第二列是权限信息（-rw-r--r--），第三列是链接数（2），第四列是拥有者（songqch）。  
第五列（platform），第六列是文件大小（0），最后是时间（9月20日，20.34）  
当在里面添加内容后：  
![1663677955271](https://user-images.githubusercontent.com/63440757/191261199-056295d7-f7df-4f4a-a075-05b77eedb52b.png)

两个文件里面的内容相同
